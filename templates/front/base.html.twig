<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}PackTrack â€“ Track Parcel{% endblock %}</title>
    
    {# CSS du front #}
    <link rel="stylesheet" href="{{ asset('css/front-style.css') }}">
    
    {% block stylesheets %}{% endblock %}
</head>
<body>
<header class="navbar">
    <div class="logo">
        <span class="icon">ðŸ“¦</span>
        <strong>PackTrack</strong>
    </div>

    <nav>
        <a href="{{ path('app_home') }}" 
           class="{{ app.request.get('_route') == 'app_home' ? 'active' }}">
           Track Parcel
        </a>

        {# Lien Facture â†’ uniquement si connectÃ© #}
        {% if app.user %}
            <a href="{{ path('app_facture_front') }}"
               class="{{ app.request.get('_route') == 'app_facture_front' ? 'active' }}">
               Facture
            </a>
        {% endif %}

        {# Mes Colis â†’ uniquement pour les entreprises #}
        {% if app.user and app.user.role.value == 'ENTREPRISE' %}
            <a href="{{ path('app_colis_index') }}" 
               class="{{ app.request.get('_route') in ['app_colis_index', 'app_colis_new', 'app_colis_show', 'app_colis_edit'] ? 'active' }}">
               Mes Colis
            </a>
        {% endif %}

        {# Livraisons â†’ uniquement pour les livreurs #}
        {% if app.user and app.user.role.value == 'Livreur' %}
            <a href="{{ path('app_livraison_index') }}" 
               class="{{ app.request.get('_route') in ['app_livraison_index', 'app_livraison_mes_livraisons', 'app_livraison_terminer', 'app_livraison_colis_details', 'app_livraison_details'] ? 'active' }}">
               Livraisons
            </a>
        {% endif %}

        <a href="#">Community</a>
        <a href="#">Report Issue</a>
    </nav>

    <div style="display: flex; gap: 12px; align-items: center;">

        {# Notifications â†’ uniquement si connectÃ© #}
        {% if app.user %}
            <a href="{{ path('app_notifications_index') }}" 
               style="position: relative; text-decoration: none; color: #495057; 
                      font-weight: 600; padding: 8px 16px; border-radius: 6px; transition: 0.2s;">
                ðŸ””
            </a>
        {% endif %}

        {# Admin Portal â†’ uniquement pour ADMIN âœ… #}
        {% if app.user and app.user.role.value == 'ADMIN' %}
            <a href="{{ path('admin_dashboard') }}" class="admin-btn">Admin Portal</a>
        {% endif %}

    </div>

</header>

<!-- CONTENU DYNAMIQUE -->
{% block body %}{% endblock %}

<!-- FOOTER -->
<footer>
    <div class="footer-grid">
        <div>
            <strong>PackTrack</strong>
            <p>AI-powered parcel delivery management for modern logistics.</p>
        </div>

        <div>
            <strong>Quick Links</strong>
            <p>Track Parcel<br>Community<br>Report Issue</p>
        </div>

        <div>
            <strong>Support</strong>
            <p>Help Center<br>Contact Us<br>FAQs</p>
        </div>

        <div>
            <strong>Contact</strong>
            <p>support@packtrack.com<br>1-800-PACKTRACK</p>
        </div>
    </div>

    <p class="copyright">Â© 2026 PackTrack. All rights reserved.</p>
</footer>

{% block javascripts %}{% endblock %}

</body>
</html>